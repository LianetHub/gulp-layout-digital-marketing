(()=>{"use strict";"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),document.addEventListener("DOMContentLoaded",(()=>{const e={Android:()=>/Android/i.test(navigator.userAgent),BlackBerry:()=>/BlackBerry/i.test(navigator.userAgent),iOS:()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),Opera:()=>/Opera Mini/i.test(navigator.userAgent),Windows:()=>/IEMobile/i.test(navigator.userAgent),any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}};function t(){e.any()||window.innerWidth<992?(document.body.classList.remove("_pc"),document.body.classList.add("_touch")):(document.body.classList.remove("_touch"),document.body.classList.add("_pc"))}t(),window.addEventListener("resize",t),document.addEventListener("click",(e=>{e.target.closest(".header__menu-toggler")&&(document.body.classList.toggle("lock"),document.querySelector(".header").classList.toggle("open-menu")),e.target.matches(".header.open-menu")&&(document.body.classList.remove("lock"),document.querySelector(".header").classList.remove("open-menu")),e.target.matches(".menu__link")&&document.querySelector(".header").classList.contains("open-menu")&&(document.body.classList.remove("lock"),document.querySelector(".header").classList.remove("open-menu"));const t=e.target.closest(".cases__tab-btn");if(t){const e=t.closest(".cases__tabs"),n=e?e.querySelectorAll(".cases__tab-btn"):document.querySelectorAll(".cases__tab-btn"),r=e?e.querySelectorAll(".cases__tabs-content"):document.querySelectorAll(".cases__tabs-content"),s=Array.from(n).indexOf(t);n.forEach((e=>e.classList.remove("active"))),r.forEach((e=>e.classList.remove("active"))),t.classList.add("active"),r[s]&&r[s].classList.add("active")}const n=e.target.closest(".login__tabs-btn");if(n){const e=document.querySelectorAll(".login__tabs-btn"),t=document.querySelectorAll(".login__content-block"),r=Array.from(e).indexOf(n);e.forEach((e=>e.classList.remove("active"))),t.forEach((e=>e.classList.remove("active"))),n.classList.add("active"),t[r]&&t[r].classList.add("active")}}));const n=document.getElementById("promo-video");function r(e){return e.value.replace(/\D/g,"")}function s(e){const t=e.target,n=r(t),s=e.clipboardData||window.clipboardData;if(s){const e=s.getData("Text");/\D/g.test(e)&&(t.value=n)}}function o(e){const t=e.target;let n=r(t);const s=t.selectionStart;if(!n)return void(t.value="");if(t.value.length!==s)return void(e.data&&/\D/g.test(e.data)&&(t.value=n));let o="";n.length>=1&&(o+="("+n.substring(0,3)),n.length>=4&&(o+=") "+n.substring(3,6)),n.length>=7&&(o+="-"+n.substring(6,8)),n.length>=9&&(o+="-"+n.substring(8,10)),t.value=o}function i(e){const t=e.target,n=r(t);8===e.keyCode&&n.length<=1&&(t.value="")}function a(e){const t=e.target;let n=r(t);const s=t.selectionStart;if(n)if(t.value.length===s)if(["7","8","9"].includes(n[0])){"9"===n[0]&&(n="7"+n);let e="8"===n[0]?"8":"+7";n.length>1&&(e+=" ("+n.substring(1,4)),n.length>=5&&(e+=") "+n.substring(4,7)),n.length>=8&&(e+="-"+n.substring(7,9)),n.length>=10&&(e+="-"+n.substring(9,11)),t.value=e}else t.value="+"+n.substring(0,16);else e.data&&/\D/g.test(e.data)&&(t.value=n);else t.value=""}function c(e){const t=e.target,n=r(t);8===e.keyCode&&1===n.length&&(t.value="")}n?.addEventListener("click",(()=>{n.removeAttribute("muted"),n.removeAttribute("autoplay"),n.removeAttribute("playsinline"),n.removeAttribute("controls"),n.muted=!1,n.controls=!0,setTimeout((()=>{n.play()}),0)})),document.querySelector(".complex__slider")&&new Swiper(".complex__slider",{slidesPerView:"auto",spaceBetween:10,navigation:{nextEl:".complex__next",prevEl:".complex__prev"},breakpoints:{991.98:{spaceBetween:40}}}),document.querySelector(".projects__slider")&&new Swiper(".projects__slider",{slidesPerView:"auto",spaceBetween:10,navigation:{nextEl:".projects__next",prevEl:".projects__prev"},breakpoints:{575.98:{spaceBetween:20},991.98:{spaceBetween:40}}}),document.querySelector(".tariff__slider")&&new Swiper(".tariff__slider",{slidesPerView:"auto",spaceBetween:10,breakpoints:{575.98:{spaceBetween:20},991.98:{spaceBetween:40}}}),document.querySelector(".blog__slider")&&new Swiper(".blog__slider",{slidesPerView:"auto",spaceBetween:10,navigation:{nextEl:".blog__next",prevEl:".blog__prev"},breakpoints:{575.98:{spaceBetween:20}}}),document.querySelector(".cases__tabs-btns")&&new Swiper(".cases__tabs-btns",{slidesPerView:"auto",breakpoints:{991.98:{slidesPerView:4}}}),document.querySelectorAll(".phone-input")?.forEach((function(e){const t=window.intlTelInput(e,{utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",initialCountry:"ru",separateDialCode:!0}),n=()=>{const n=t.getSelectedCountryData().iso2;e.removeEventListener("input",o),e.removeEventListener("keydown",i),e.removeEventListener("paste",s),e.setAttribute("placeholder",""),"ru"===n&&(e.addEventListener("input",o),e.addEventListener("keydown",i),e.addEventListener("paste",s),e.setAttribute("placeholder","(___) ___–__–__"))};e.addEventListener("countrychange",n),n()})),document.querySelectorAll('input[type="tel"]:not(.phone-input)')?.forEach((function(e){e.addEventListener("keydown",c),e.addEventListener("input",a),e.addEventListener("paste",s)}));const l=document.querySelector(".promo__body");l&&(gsap.registerPlugin(ScrollTrigger),gsap.matchMedia().add("(min-width: 992px)",(()=>{const e=gsap.to(".promo__video-wrapper .video-area",{y:620,width:()=>window.innerWidth-90+"px",height:"80vh",x:()=>(window.innerWidth-l.offsetWidth)/2-30,ease:"power2.out",scrollTrigger:{trigger:".promo__video-wrapper",start:()=>`top ${document.querySelector(".header").offsetHeight}`,end:`${document.querySelector(".promo__offer").offsetHeight} top`,scrub:3,onEnter:()=>l.classList.add("scrolled"),onLeaveBack:()=>l.classList.remove("scrolled")}});return ScrollTrigger.addEventListener("refreshInit",(()=>{e.invalidate()})),window.addEventListener("resize",(()=>{ScrollTrigger.refresh()})),()=>{window.removeEventListener("resize",(()=>{ScrollTrigger.refresh()})),e.scrollTrigger?.kill(),e.kill()}})))}))})();