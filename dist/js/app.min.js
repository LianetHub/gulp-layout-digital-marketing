(()=>{"use strict";function e(e,t,s,o){void 0===t&&(t=400),void 0===o&&(o=!1),e.style.overflow="hidden",o&&(e.style.display="block");const n=window.getComputedStyle(e),i=parseFloat(n.getPropertyValue("height")),r=parseFloat(n.getPropertyValue("padding-top")),l=parseFloat(n.getPropertyValue("padding-bottom")),a=parseFloat(n.getPropertyValue("margin-top")),d=parseFloat(n.getPropertyValue("margin-bottom")),c=i/t,u=r/t,p=l/t,h=a/t,g=d/t;let m;window.requestAnimationFrame((function n(_){void 0===m&&(m=_);const b=_-m;o?(e.style.height=c*b+"px",e.style.paddingTop=u*b+"px",e.style.paddingBottom=p*b+"px",e.style.marginTop=h*b+"px",e.style.marginBottom=g*b+"px"):(e.style.height=i-c*b+"px",e.style.paddingTop=r-u*b+"px",e.style.paddingBottom=l-p*b+"px",e.style.marginTop=a-h*b+"px",e.style.marginBottom=d-g*b+"px"),b>=t?(e.style.height="",e.style.paddingTop="",e.style.paddingBottom="",e.style.marginTop="",e.style.marginBottom="",e.style.overflow="",o||(e.style.display="none"),"function"==typeof s&&s()):window.requestAnimationFrame(n)}))}"undefined"!=typeof Fancybox&&null!==Fancybox&&Fancybox.bind("[data-fancybox]",{dragToClose:!1,closeButton:!1}),document.addEventListener("DOMContentLoaded",(()=>{const e={Android:()=>/Android/i.test(navigator.userAgent),BlackBerry:()=>/BlackBerry/i.test(navigator.userAgent),iOS:()=>/iPhone|iPad|iPod/i.test(navigator.userAgent),Opera:()=>/Opera Mini/i.test(navigator.userAgent),Windows:()=>/IEMobile/i.test(navigator.userAgent),any:function(){return this.Android()||this.BlackBerry()||this.iOS()||this.Opera()||this.Windows()}};function t(){e.any()||window.innerWidth<992?(document.body.classList.remove("_pc"),document.body.classList.add("_touch")):(document.body.classList.remove("_touch"),document.body.classList.add("_pc"))}t(),window.addEventListener("resize",t),document.addEventListener("click",(e=>{if(e.target.closest(".header__menu-toggler")&&(document.body.classList.toggle("lock"),document.querySelector(".header").classList.toggle("open-menu")),e.target.matches(".header.open-menu")&&(document.body.classList.remove("lock"),document.querySelector(".header").classList.remove("open-menu")),e.target.matches(".menu__link")&&document.querySelector(".header").classList.contains("open-menu")&&(document.body.classList.remove("lock"),document.querySelector(".header").classList.remove("open-menu")),e.target.closest(".marketplace__filter-btn")&&(document.querySelector(".filter").classList.add("visible"),document.body.classList.add("filter-lock")),(e.target.matches(".filter.visible")||e.target.matches(".filter__close"))&&(document.querySelectorAll(".filter").forEach((e=>e.classList.remove("visible"))),document.body.classList.remove("filter-lock")),e.target.closest(".sort-btn")){const t=e.target.closest(".dropdown");document.querySelectorAll(".dropdown").forEach((e=>{e!==t&&e.classList.remove("visible")})),t.classList.toggle("visible")}else document.querySelectorAll(".dropdown.visible").forEach((t=>{t.contains(e.target)||t.classList.remove("visible")}));if(e.target.closest(".dropdown__list-item.sort")){const t=e.target.closest(".dropdown"),s=t.querySelector(".dropdown__button-text"),o=e.target.closest(".sort"),n=o.parentNode.querySelectorAll(".sort");o.classList.add("active"),n.forEach((e=>{e!==o&&e.classList.remove("active")})),s.innerHTML=o.innerHTML,t.classList.remove("visible")}e.target.closest(".roadmap__item-title")&&(e.target.closest(".roadmap__item-title").classList.toggle("active"),e.target.closest(".roadmap__item-title").nextElementSibling.slideToggle());const t=e.target.closest(".cases__tab-btn");if(t){const e=t.closest(".cases__tabs"),s=e?e.querySelectorAll(".cases__tab-btn"):document.querySelectorAll(".cases__tab-btn"),o=e?e.querySelectorAll(".cases__tabs-content"):document.querySelectorAll(".cases__tabs-content"),n=Array.from(s).indexOf(t);s.forEach((e=>e.classList.remove("active"))),o.forEach((e=>e.classList.remove("active"))),t.classList.add("active"),o[n]&&o[n].classList.add("active")}const s=e.target.closest(".login__tabs-btn");if(s){const e=document.querySelectorAll(".login__tabs-btn"),t=document.querySelectorAll(".login__content-block"),o=Array.from(e).indexOf(s);e.forEach((e=>e.classList.remove("active"))),t.forEach((e=>e.classList.remove("active"))),s.classList.add("active"),t[o]&&t[o].classList.add("active")}e.target.matches(".faq__item-title")&&(e.target.classList.toggle("active"),e.target.nextElementSibling.slideToggle())}));const s=document.getElementById("promo-video");function o(e){return e.value.replace(/\D/g,"")}function n(e){const t=e.target,s=o(t),n=e.clipboardData||window.clipboardData;if(n){const e=n.getData("Text");/\D/g.test(e)&&(t.value=s)}}function i(e){const t=e.target;let s=o(t);const n=t.selectionStart;if(!s)return void(t.value="");if(t.value.length!==n)return void(e.data&&/\D/g.test(e.data)&&(t.value=s));let i="";s.length>=1&&(i+="("+s.substring(0,3)),s.length>=4&&(i+=") "+s.substring(3,6)),s.length>=7&&(i+="-"+s.substring(6,8)),s.length>=9&&(i+="-"+s.substring(8,10)),t.value=i}function r(e){const t=e.target,s=o(t);8===e.keyCode&&s.length<=1&&(t.value="")}function l(e){const t=e.target;let s=o(t);const n=t.selectionStart;if(s)if(t.value.length===n)if(["7","8","9"].includes(s[0])){"9"===s[0]&&(s="7"+s);let e="8"===s[0]?"8":"+7";s.length>1&&(e+=" ("+s.substring(1,4)),s.length>=5&&(e+=") "+s.substring(4,7)),s.length>=8&&(e+="-"+s.substring(7,9)),s.length>=10&&(e+="-"+s.substring(9,11)),t.value=e}else t.value="+"+s.substring(0,16);else e.data&&/\D/g.test(e.data)&&(t.value=s);else t.value=""}function a(e){const t=e.target,s=o(t);8===e.keyCode&&1===s.length&&(t.value="")}s?.addEventListener("click",(()=>{s.removeAttribute("muted"),s.removeAttribute("autoplay"),s.removeAttribute("playsinline"),s.removeAttribute("controls"),s.muted=!1,s.controls=!0,setTimeout((()=>{s.play()}),0)})),document.querySelector(".complex__slider")&&new Swiper(".complex__slider",{slidesPerView:"auto",spaceBetween:10,navigation:{nextEl:".complex__next",prevEl:".complex__prev"},breakpoints:{991.98:{spaceBetween:40}}}),document.querySelector(".projects__slider")&&new Swiper(".projects__slider",{slidesPerView:"auto",spaceBetween:10,navigation:{nextEl:".projects__next",prevEl:".projects__prev"},breakpoints:{575.98:{spaceBetween:20},991.98:{spaceBetween:40}}}),document.querySelector(".tariff__slider")&&new Swiper(".tariff__slider",{slidesPerView:"auto",spaceBetween:10,breakpoints:{575.98:{spaceBetween:20},991.98:{spaceBetween:40}}}),document.querySelector(".blog__slider")&&new Swiper(".blog__slider",{slidesPerView:"auto",spaceBetween:10,navigation:{nextEl:".blog__next",prevEl:".blog__prev"},breakpoints:{575.98:{spaceBetween:20}}}),document.querySelector(".cases__tabs-btns")&&new Swiper(".cases__tabs-btns",{slidesPerView:"auto",breakpoints:{991.98:{slidesPerView:4}}}),document.querySelectorAll(".phone-input")?.forEach((function(e){const t=window.intlTelInput(e,{utilsScript:"https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/utils.js",initialCountry:"ru",separateDialCode:!0}),s=()=>{const s=t.getSelectedCountryData().iso2;e.removeEventListener("input",i),e.removeEventListener("keydown",r),e.removeEventListener("paste",n),e.setAttribute("placeholder",""),"ru"===s&&(e.addEventListener("input",i),e.addEventListener("keydown",r),e.addEventListener("paste",n),e.setAttribute("placeholder","(___) ___–__–__"))};e.addEventListener("countrychange",s),s()})),document.querySelectorAll('input[type="tel"]:not(.phone-input)')?.forEach((function(e){e.addEventListener("keydown",a),e.addEventListener("input",l),e.addEventListener("paste",n)}));const d=document.querySelector(".promo__body");d&&(gsap.registerPlugin(ScrollTrigger),gsap.matchMedia().add("(min-width: 992px)",(()=>{const e=gsap.to(".promo__video-wrapper .video-area",{y:620,width:()=>window.innerWidth-90+"px",height:"80vh",x:()=>(window.innerWidth-d.offsetWidth)/2-30,ease:"power2.out",scrollTrigger:{trigger:".promo__video-wrapper",start:()=>`top ${document.querySelector(".header").offsetHeight}`,end:`${document.querySelector(".promo__offer").offsetHeight} top`,scrub:3,onEnter:()=>d.classList.add("scrolled"),onLeaveBack:()=>d.classList.remove("scrolled")}});return ScrollTrigger.addEventListener("refreshInit",(()=>{e.invalidate()})),window.addEventListener("resize",(()=>{ScrollTrigger.refresh()})),()=>{window.removeEventListener("resize",(()=>{ScrollTrigger.refresh()})),e.scrollTrigger?.kill(),e.kill()}})));class c{static openDropdown=null;constructor(e){this.select=e,this.defaultText=this.select.options[this.select.selectedIndex].text,this.selectName=this.select.getAttribute("name"),this.options=[...this.select.options],this.icon=this.select.dataset.icon,this.title=this.select.dataset.title,this.dropdown=null,this.initialState={},this.init()}init(){this.select&&(this.saveInitialState(),this.select.classList.add("hidden"),this.renderDropdown(),this.setupEvents())}saveInitialState(){const e=this.select.options[this.select.selectedIndex];this.initialState={selectedText:e.text,selectedValue:e.value}}renderDropdown(){const e=this.select.disabled;let t="";t=this.icon?`\n            <button type="button" class="dropdown__button icon-chevron" \n                aria-expanded="false" \n                aria-haspopup="true" \n                ${e?"disabled":""}>\n                <span class="dropdown__button-icon ${this.icon}"></span>\n                <span class="dropdown__button-text">${this.defaultText}</span>\n            </button>\n        `:this.title?`\n            <button type="button" class="dropdown__button icon-chevron" \n                aria-expanded="false" \n                aria-haspopup="true" \n                ${e?"disabled":""}>\n                <span class="dropdown__button-column">\n                    <span class="dropdown__button-caption">${this.title}</span>\n                    <span class="dropdown__button-text">${this.defaultText}</span>\n                </span>\n            </button>\n        `:`\n            <button type="button" class="dropdown__button icon-chevron" \n                aria-expanded="false" \n                aria-haspopup="true" \n                ${e?"disabled":""}>\n                <span class="dropdown__button-text">${this.defaultText}</span>\n            </button>\n        `,this.dropdown=document.createElement("div"),this.dropdown.className="dropdown",this.dropdown.innerHTML=`\n        ${t}\n        <div class="dropdown__body" aria-hidden="true">\n            <ul class="dropdown__list" role="listbox"></ul>\n        </div>\n    `;const s=this.dropdown.querySelector(".dropdown__list");this.options.forEach((e=>{const t=e.value,o=e.text,n=e.selected,i=e.disabled,r=document.createElement("li");r.setAttribute("role","option"),r.dataset.value=t,r.setAttribute("aria-checked",n),r.className=`dropdown__list-item${n?" selected":""}${i?" disabled":""}`,i&&r.setAttribute("aria-disabled","true"),r.textContent=o,s.append(r)})),this.select.after(this.dropdown),this.updateButtonState()}setupEvents(){this.dropdown.querySelector(".dropdown__button").addEventListener("click",(e=>{e.stopPropagation();const t=this.dropdown.classList.contains("visible");this.toggleDropdown(!t)})),this.dropdown.querySelectorAll(".dropdown__list-item").forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),e.classList.contains("disabled")||this.selectOption(e)}))})),document.addEventListener("click",(()=>this.closeDropdown())),document.addEventListener("keydown",(e=>{"Escape"===e.key&&this.closeDropdown()}));const e=this.select.closest("form");e&&e.addEventListener("reset",(()=>this.restoreInitialState())),new MutationObserver((()=>{const e=this.select.disabled;this.dropdown.querySelector(".dropdown__button").disabled=e})).observe(this.select,{attributes:!0,attributeFilter:["disabled"]}),new MutationObserver((e=>{e.forEach((e=>{if("attributes"===e.type&&"disabled"===e.attributeName){const t=e.target,s=t.value,o=t.disabled,n=this.dropdown.querySelector(`.dropdown__list-item[data-value="${s}"]`);n.classList.toggle("disabled",o),o?n.setAttribute("aria-disabled","true"):n.removeAttribute("aria-disabled")}"attributes"===e.type&&"selected"===e.attributeName&&this.syncSelectedOption()}))})).observe(this.select,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["selected","disabled"]})}toggleDropdown(e){e&&c.openDropdown&&c.openDropdown!==this&&c.openDropdown.closeDropdown();const t=this.dropdown.querySelector(".dropdown__body"),s=this.dropdown.querySelector(".dropdown__list"),o=s.scrollHeight>s.clientHeight;if(this.dropdown.classList.toggle("visible",e),this.dropdown.querySelector(".dropdown__button").setAttribute("aria-expanded",e),t.setAttribute("aria-hidden",!e),e){c.openDropdown=this,this.dropdown.classList.remove("dropdown-top");const e=t.getBoundingClientRect(),n=window.innerHeight;e.bottom>n&&this.dropdown.classList.add("dropdown-top"),s.classList.toggle("has-scroll",o)}else c.openDropdown===this&&(c.openDropdown=null)}closeDropdown(){this.toggleDropdown(!1)}selectOption(e){const t=e.dataset.value,s=e.textContent;this.dropdown.querySelectorAll(".dropdown__list-item").forEach((e=>{e.classList.remove("selected"),e.setAttribute("aria-checked","false")})),e.classList.add("selected"),e.setAttribute("aria-checked","true"),this.dropdown.querySelector(".dropdown__button-text").textContent=s,this.select.value=t,this.select.dispatchEvent(new Event("change")),this.closeDropdown(),this.updateButtonState()}restoreInitialState(){const e=this.initialState;this.select.value=e.selectedValue,this.select.dispatchEvent(new Event("change")),this.dropdown.querySelectorAll(".dropdown__list-item").forEach((e=>{e.classList.remove("selected"),e.setAttribute("aria-checked","false")}));const t=this.dropdown.querySelector(`.dropdown__list-item[data-value="${e.selectedValue}"]`);t&&(t.classList.add("selected"),t.setAttribute("aria-checked","true")),this.dropdown.querySelector(".dropdown__button-text").textContent=e.selectedText,this.updateButtonState()}syncSelectedOption(){const e=this.select.options[this.select.selectedIndex],t=e.value,s=e.text;this.dropdown.querySelectorAll(".dropdown__list-item").forEach((e=>{e.classList.remove("selected"),e.setAttribute("aria-checked","false")}));const o=this.dropdown.querySelector(`.dropdown__list-item[data-value="${t}"]`);o&&(o.classList.add("selected"),o.setAttribute("aria-checked","true")),this.dropdown.querySelector(".dropdown__button-text").textContent=s,this.updateButtonState()}updateButtonState(){const e=this.dropdown.querySelector(".dropdown__button"),t=this.select.options[this.select.selectedIndex];t&&""!==t.value?e.classList.add("selected"):e.classList.remove("selected")}}if(document.querySelectorAll(".select")?.forEach((e=>{new c(e)})),document.querySelector(".quiz")){const e=document.querySelector(".promo__quiz"),t=e.querySelectorAll(".quiz__block"),s=e.querySelector(".quiz__prev"),o=e.querySelector(".quiz__next"),n=e.querySelector(".quiz__progress-bar"),i=e.querySelector(".quiz__progress-status"),r=e.querySelector(".quiz__bottom");let l=0;const a=()=>{t.forEach(((e,t)=>{e.classList.toggle("active",t===l)})),s.disabled=0===l,o.disabled=!d(l);const e=l/(t.length-1)*100;n.value=e,i.textContent=`Заполнено ${Math.round(e)}%`,l===t.length-1?(o.classList.add("hidden"),s.classList.add("hidden"),r.classList.add("hidden")):(o.classList.remove("hidden"),s.classList.remove("hidden"),r.classList.remove("hidden"))},d=e=>{const s=t[e],o=s.querySelectorAll('input:not([type="hidden"])');return 0===o.length||("checkbox"===o[0].type?s.querySelector('input[type="checkbox"]:checked'):"radio"===o[0].type?s.querySelector('input[type="radio"]:checked'):("text"===o[0].type||"tel"===o[0].type)&&Array.from(o).every((e=>""!==e.value.trim())))},c=e=>{const s=e.target.closest(".quiz__block"),n=Array.from(t).indexOf(s);o.disabled=!d(n)};t.forEach((e=>{e.addEventListener("input",c)})),o.addEventListener("click",(()=>{l<t.length-1&&(l++,a())})),s.addEventListener("click",(()=>{l>0&&(l--,a())})),e.addEventListener("submit",(t=>{if(t.preventDefault(),d(l)){const t=new FormData(e),s={};t.forEach(((e,t)=>{s[t]?(Array.isArray(s[t])||(s[t]=[s[t]]),s[t].push(e)):s[t]=e}))}})),a()}})),HTMLElement.prototype.slideToggle=function(t,s){0===this.clientHeight?e(this,t,s,!0):e(this,t,s)},HTMLElement.prototype.slideUp=function(t,s){e(this,t,s)},HTMLElement.prototype.slideDown=function(t,s){e(this,t,s,!0)}})();